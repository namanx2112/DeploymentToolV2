<div class="header">
    <h3 *ngFor="let item of titles;let index = index" [ngClass]="index == 0 ? 'clickableHeader':'' "
        (click)="moveToStep(item, index);">
        <span class="titleSeparator" *ngIf="index > 0">></span> {{titles[index].title}}
    </h3>
</div>
<div class="tabHeader">
    <a [ngClass]="selectedTab == 'home' ? 'active' : ''" (click)="tabClick('home')">Home</a>
    <div class="tabSeparator"></div>
    <a *ngIf="!(showView == 'editreport' || showView == 'editfolder')"
        (click)="menuClick('newfolder')"><mat-icon>create_new_folder</mat-icon>New Folder</a>
    <a *ngIf="!(showView == 'editreport' || showView == 'editfolder')" (click)="menuClick('newreport')"><mat-icon>
            table_chart</mat-icon>New Report</a>
    <button (click)="openShare()" class="shareButton"
        *ngIf="selectedReports.length > 0 || (showView == 'editreport' && curModel != undefined && curModel.aReportId != undefined)"
        matTooltip="Share report"><mat-icon style="margin-right: 4px;">share</mat-icon>Share Report</button>
    <button (click)="fieldSelection()" class="shareButton"
        *ngIf="showView == 'editreport' && curModel != undefined && curModel.aReportId != undefined"
        matTooltip="Column and sorting options">
        <mat-icon style="margin-right: 4px;">list_alt</mat-icon>Column Options</button>
    <button class="shareButton" *ngIf="showView == 'editfolder'" (click)="saveMenuClick(false)" matTooltip="Save folder">
        <mat-icon style="margin-right: 4px;">save</mat-icon>Save</button>
    <button class="shareButton" *ngIf="showView == 'editreport'" matTooltip="Save report" [matMenuTriggerFor]="saveMenu">
        <mat-icon style="margin-right: 4px;">save</mat-icon>Save<mat-icon style="margin-right: 4px;">keyboard_arrow_down</mat-icon></button>
    <mat-menu #saveMenu="matMenu">
        <button mat-menu-item (click)="saveMenuClick(false)">Save</button>
        <button mat-menu-item (click)="saveMenuClick(true)">Save and preview</button>
    </mat-menu>

</div>
<div class="rgBody">
    <app-report-folders *ngIf="showView == 'home'" [request]="{curBrand: curBrand}"
        (folderListAction)="folderListAction($event)"></app-report-folders>
    <app-folder-editor #folderEditor *ngIf="showView == 'editfolder'"
        [request]="{curBrand: curBrand, curModel: curModel}"
        (actionPerformed)="actionPerformed($event)"></app-folder-editor>
    <app-report-editor #reportEditor *ngIf="showView == 'editreport'"
        [request]="{curBrand: curBrand, curModel: curModel}"
        (actionPerformed)="actionPerformed($event)"></app-report-editor>
    <app-report-table *ngIf="showView == 'showreport'" [reportParam]="reportRequest" (openStore)="showStore($event)"
        (goBack)="moveFromReportTable($event)"></app-report-table>
</div>